- CAP
    - Consistency  --- 一致性 
    - Availability --- 可用性 
    - Partition Tolerance --- 分区容错性
    > 一致性和可用性，为什么不可能同时成立?答案很简单，因为可能通信失败(即出现分区容错)<br>若保证 S2 的一致性，那S1必须在写操作时，锁定S2的读和写操作。仅数据同步后，才能重新开放读写。锁定期间，S2不能读写，没有可用性<br>若保证 S2 的可用性，那么必不能锁定 S2，所以一致性不成立。

- 常用的CAP应用
    - Zookeeper：<br>
    在设计的时候遵循的是CP原则，即一致性 <br>
    Zookeeper会出现这样一种情况，当master节点因为网络故 障与其他节点失去联系时剩余节点会重新进行leader选举，问题在于，选举leader的时间太长:30~120s，且选举期间整个Zookeeper集群是不可用的，导致在选举期间注册服务处于瘫痪状态，在云部署的环境下，因网络环境使Zookeeper集群失去master节点是较大概率发生的事情，虽然服务能够最终恢复，但是漫长的选举时间导致 长期的服务注册不可用是不能容忍的。
    - Eureka：<br>
    在设计的时候遵循的是AP原则<br>
    Eureka各个节点(服务)是平等的， 没有主从之分，几个节点 down掉不会影响正常工作，剩余的节点(服务) 依然可以提供注册与查询服务,而Eureka的客户端在向某个 Eureka注册或发现连接失败，则会自动切换到其他节点，也就是说，只要有一台Eureka还在，就能注册可用(保 证可用性)， 只不过查询到的信息不是最新的(不保证强一致)，除此之外，Eureka还有自我保护机制，如果在 15分钟内超过85%节点都没有正常心跳，那么eureka就认为客户端与注册中心出现了网络故障，此时会出现一下 情况:
        - Eureka 不再从注册列表中移除因为长时间没有收到心跳而过期的服务
        - Eureka 仍然能够接收新服务的注册和查询请求，但是不会被同步到其它节点上(即保证当前节点可用)
        - 当网络稳定后，当前实例新的注册信息会被同步到其它节点中
    - Redis
        - 单机属于CP模型
        - 集群属于AP模型
            1. client 写数据到 master
            2. master 告知 client “ok”
            3. master 同步数据到 slave
            > 第二步骤成功后， mater crash，主从数据不一致 
         

 